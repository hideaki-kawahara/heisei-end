<!DOCTYPE html>
<html lang="ja">
<head>
  <meta name="viewport" content="width=device-width">
  <meta charset="utf-8">
  <title>年号の表示</title>
</head>
<body>
  <h1 id="bug_time"></h1>
  <h1 id="time"></h1>
    <script>
    time();
    function time(){
      var now = new Date();
      var bug_now = now.toLocaleDateString('ja-JP-u-ca-japanese', {
        era    : 'long'   ,  // 元号
        year   : 'numeric',  // 年 : 'ja-JP-u-ca-japanese' の場合は和暦
        month  : 'long'   ,  // 月
        day    : 'numeric',  // 日
        weekday: 'short'   ,  // 曜日
        hour12 : false    ,  // 時間の12時間表記
        hour   : 'numeric',  // 時
        minute : 'numeric',  // 分
        second : 'numeric'   // 秒
      });
      if (bug_now.substring(0, 2) != "平成") {
        bug_now = "平成" + bug_now;
      }
      document.getElementById("bug_time").innerHTML = bug_now;
      var unix_time = now.getTime();
      var year = now.getFullYear();
      var gengo = "平成";
      if (unix_time >= 1556636400000) {
        gengo = "令和";
        year -= 2018;
        if (year == 1) {
          year = "元";
        }
      } else {
        year -= 1988;
      }
      var get_now = bug_now.substring(4);
      document.getElementById("time").innerHTML = gengo + year + get_now;
    }
    setInterval('time()',100);
    </script>
</body>
</html>
